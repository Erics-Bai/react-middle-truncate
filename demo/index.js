!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReactMiddleTruncation=t():e.ReactMiddleTruncation=t()}(window,function(){return function(e){function t(t){for(var r,i,s=t[0],l=t[1],u=t[2],p=0,f=[];p<s.length;p++)i=s[p],a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="demo";var s=window.webpackJsonpReactMiddleTruncation=window.webpackJsonpReactMiddleTruncation||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;return o.push([47,1]),n()}({16:function(e,t){e.exports={component:"_24kiK"}},3:function(e,t){e.exports={root:"_8ovzY",header:"_1lIK_",section:"_2F601","header-input":"_16nLe",demo:"_3x3CJ",controls:"_1kfb5",widthText:"_3Y1l9",instructions:"_2uh8L"}},38:function(e,t){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),i=n(14),s=n(15),l=n.n(s),u=(n(34),n(38),n(1)),c=n.n(u),p=n(2),f=n.n(p),h=n(3),d=n.n(h),m=n(7),v=n.n(m),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={value:r.props.value},r.handleOnChange=function(e){r.setState({value:e.target.value}),r.props.onChange(e)},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),b(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.label,r=e.name,o=e.placeholder,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","label","name","placeholder"]),s=this.state.value,l=f()(v.a.component,t);return a.a.createElement("div",{className:l},a.a.createElement("input",y({},i,r&&{id:r,name:r},{type:"text",placeholder:o,onChange:this.handleOnChange,value:s,className:v.a.input})),a.a.createElement("label",y({},r&&{htmlFor:r},{className:v.a.label}),n))}}]),t}();x.propTypes={className:c.a.string,label:c.a.string.isRequired,name:c.a.string,onChange:c.a.func,placeholder:c.a.string,value:c.a.any},x.defaultProps={className:"",label:"",name:null,onChange:function(){},placeholder:"",value:""};var w=x,O=n(16),E=n.n(O),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={value:r.props.value},r.handleOnChange=function(e){r.setState({value:e.target.value}),r.props.onChange(e)},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),j(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.min,r=e.max,o=e.step,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","min","max","step"]),s=this.state.value,l=f()(E.a.component,t);return a.a.createElement("input",C({},i,name&&{id:name,name:name},{type:"range",className:l,min:n,max:r,onChange:this.handleOnChange,step:o,value:s}))}}]),t}();_.propTypes={className:c.a.string,min:c.a.number,max:c.a.number,name:c.a.string,onChange:c.a.func,step:c.a.number,value:c.a.any},_.defaultProps={className:"",min:0,max:100,name:null,onChange:function(){},step:1,value:""};var N=_,S=n(5),P=n(17),M=n.n(P),R=n(6),D=n.n(R),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var F=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={truncatedText:n.props.text,start:n.getStartOffset(n.props.start,n.props.text),end:n.getEndOffset(n.props.end,n.props.text)},n.getTextMeasurement=function(e){var t=Object(o.findDOMNode)(e),n=t.textContent,r=window.getComputedStyle(t),a=r.fontFamily,i=r.fontSize,s=r.fontWeight,l=r.fontStyle,u=M()({text:n,fontFamily:a,fontSize:i,fontWeight:s,fontStyle:l,lineHeight:1});return{width:u.width,height:u.height}},n.getComponentMeasurement=function(){var e=Object(o.findDOMNode)(n.refs.component),t=e.offsetWidth,r=e.offsetHeight;return{width:D.a.parse(t,"px"),height:D.a.parse(r,"px")}},n.getStartOffset=n.getStartOffset.bind(n),n.getEndOffset=n.getEndOffset.bind(n),n.onCopy=n.onCopy.bind(n),n.calculateMeasurements=n.calculateMeasurements.bind(n),n.truncateText=n.truncateText.bind(n),n.parseTextForTruncation=Object(S.debounce)(n.parseTextForTruncation.bind(n),0),n.onResize=Object(S.debounce)(n.onResize.bind(n),n.props.onResizeDebounceMs),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),z(t,[{key:"componentDidMount",value:function(){this.parseTextForTruncation(this.props.text),window.addEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){e.text!==this.props.text&&this.parseTextForTruncation(e.text),e.start!==this.props.start&&this.setState({start:this.getStartOffset(e.start,e.text)}),e.end!==this.props.end&&this.setState({end:this.getEndOffset(e.end,e.text)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onCopy",value:function(e){var t=this.props.smartCopy;if(t){var n=window.getSelection().toString();if("partial"===t||"all"===t&&n===this.state.truncatedText)e.preventDefault(),(e.clipboardData||window.clipboardData||e.originalEvent.clipboardData).setData("text/plain",this.props.text)}}},{key:"onResize",value:function(){this.parseTextForTruncation(this.props.text)}},{key:"getStartOffset",value:function(e,t){if(""===e||null===e)return 0;if(!isNaN(parseInt(e,10)))return Math.round(Object(S.toFinite)(e));var n=new RegExp(e).exec(t);return n?n.index+n[0].length:0}},{key:"getEndOffset",value:function(e,t){if(""===e||null===e)return 0;if(!isNaN(parseInt(e,10)))return Math.round(Object(S.toFinite)(e));var n=new RegExp(e).exec(t);return n?n[0].length:0}},{key:"calculateMeasurements",value:function(){return{component:this.getComponentMeasurement(),ellipsis:this.getTextMeasurement(this.refs.ellipsis),text:this.getTextMeasurement(this.refs.text)}}},{key:"truncateText",value:function(e){var t=this.props,n=t.text,r=t.ellipsis,a=this.state,o=a.start,i=a.end;if(e.component.width.value<=e.ellipsis.width.value)return r;var s=Math.ceil(e.text.width.value-e.component.width.value),l=Math.ceil(s/e.ellipsis.width.value),u=Math.round(n.length/2);return""+n.slice(0,o)+n.slice(o,u-l)+r+n.slice(u+l,n.length-i)+n.slice(n.length-i,n.length)}},{key:"parseTextForTruncation",value:function(e){var t=this.calculateMeasurements(),n=Math.round(t.text.width.value)>Math.round(t.component.width.value)?this.truncateText(t):e;this.setState(function(){return{truncatedText:n}})}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.ellipsis,r=e.style,o=(e.onResizeDebounceMs,e.smartCopy,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["text","ellipsis","style","onResizeDebounceMs","smartCopy"])),i=this.state.truncatedText,s=k({},r,{display:"block",overflow:"hidden",whiteSpace:"nowrap"}),l={display:"none"};return a.a.createElement("div",k({ref:"component",style:s,onCopy:this.onCopy},o),a.a.createElement("span",{ref:"text",style:l},t),a.a.createElement("span",{ref:"ellipsis",style:l},n),i)}}]),t}();F.propTypes={className:c.a.string,ellipsis:c.a.string,end:c.a.oneOfType([c.a.number,c.a.instanceOf(RegExp),c.a.string]),onResizeDebounceMs:c.a.number,smartCopy:c.a.oneOfType([c.a.oneOf(["partial","all"]),c.a.bool]),start:c.a.oneOfType([c.a.number,c.a.instanceOf(RegExp),c.a.string]),style:c.a.object,text:c.a.string},F.defaultProps={className:"",ellipsis:"...",end:0,onResizeDebounceMs:100,smartCopy:"all",start:0,style:{},text:""};var W=F,I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=L(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={start:/Lorem\sipsum/,end:5,width:55,text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer risus ante, molestie eu ex suscipit, mollis pellentesque metus.",ellipsis:"..."},r.onDemoTextChange=function(e){r.setState({text:e.target.value})},r.onDemoStartChange=function(e){r.setState({start:e.target.value},function(){window.dispatchEvent(new Event("resize"))})},r.onDemoEndChange=function(e){r.setState({end:e.target.value},function(){window.dispatchEvent(new Event("resize"))})},r.onDemoWidthChange=function(e){r.setState({width:e.target.value},function(){window.dispatchEvent(new Event("resize"))})},r.onDemoEllipsisChange=function(e){r.setState({ellipsis:e.target.value},function(){window.dispatchEvent(new Event("resize"))})},L(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),I(t,[{key:"render",value:function(){var e=this.props.className,t=this.state,n=t.start,r=t.end,o=t.width,i=t.text,s=t.ellipsis,l=f()(d.a.root,e),u={width:o+"%"};return a.a.createElement("div",{className:l},a.a.createElement("header",{className:f()(d.a.header)},a.a.createElement(w,{name:"demoText",label:"Text to Truncate",onChange:this.onDemoTextChange,placeholder:"Enter a long string into this box to see it rendered below.",value:i,className:f()(d.a["header-input"])}),a.a.createElement(w,{name:"demoStart",label:"Start",onChange:this.onDemoStartChange,placeholder:"Number or RegExp to preserve start of the text.",value:n,className:f()(d.a["header-input"])}),a.a.createElement(w,{name:"demoEnd",label:"End",onChange:this.onDemoEndChange,placeholder:"Number or RegExp to preserve end of the text.",value:r,className:f()(d.a["header-input"])}),a.a.createElement(w,{name:"demoEllipsis",label:"Ellipsis",required:!0,onChange:this.onDemoEllipsisChange,placeholder:"The ellipsis to use when the text is truncated.",value:s,className:f()(d.a["header-input"])})),a.a.createElement("section",{className:f()(d.a.section)},a.a.createElement("div",{className:f()(d.a.controls)},a.a.createElement("div",{className:f()(d.a.widthText)},"width: ",o,"%")),i&&a.a.createElement("div",{className:f()(d.a.demo),style:u},a.a.createElement(W,{start:n,end:r,text:i,ellipsis:s,smartCopy:"all"})),a.a.createElement("div",{className:f()(d.a.controls)},a.a.createElement(N,{name:"demoWidth",onChange:this.onDemoWidthChange,min:30,max:100,value:o,step:1})),a.a.createElement("div",{className:f()(d.a.instructions)},a.a.createElement("p",null,"Enter text to trucate in the input. Drag the slider above to increase/decrease the width of the parent container to see the middle truncation be applied."),a.a.createElement("p",null,"If you wish to preserve portions of the start and/or end of the text, you can enter either a numeric value, or a regular expression to find the character position to preserve up to."))))}}]),t}();A.propTypes={className:c.a.string},A.defaultProps={className:""};var q=A,J=document.createElement("div");J.id="root",document.body.appendChild(J);!function(e){Object(o.render)(a.a.createElement(i.AppContainer,{errorReporter:l.a},a.a.createElement(e,null)),document.getElementById("root"))}(q)},7:function(e,t){e.exports={component:"_3ae9K",input:"_3yn8S",label:"_2x0ZM"}}})});
//# sourceMappingURL=index.js.map